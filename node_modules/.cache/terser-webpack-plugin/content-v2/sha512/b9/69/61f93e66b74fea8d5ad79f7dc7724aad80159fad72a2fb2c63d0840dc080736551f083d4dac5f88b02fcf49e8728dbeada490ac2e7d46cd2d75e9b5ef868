{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{27:function(e,t,a){var n=a(435);\"string\"==typeof n&&(n=[[e.i,n,\"\"]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(12)(n,r);n.locals&&(e.exports=n.locals)},435:function(e,t,a){(t=e.exports=a(11)(!1)).push([e.i,\".Reviews__-loader-__3gqI5 {\\n  width: 100%;\\n  height: auto;\\n  padding-bottom: 90px;\\n  background-color: #f9f6f2; }\\n\\n.Reviews__-loader-__3EALF {\\n  width: 100%;\\n  height: 100%;\\n  background-color: #f9f6f2; }\\n\",\"\"]),t.locals={reviewsContainer:\"Reviews__-loader-__3gqI5\",filterReviewsWrapper:\"Reviews__-loader-__3EALF\"}},59:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),i=a(60),o=a.n(i),s=a(61),c=a(62),l=a(27),u=a.n(l),f=a(28),g=a.n(f),h=a(64);function v(e){return(v=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function y(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),n=this,(a=!(r=p(t).call(this,e))||\"object\"!==v(r)&&\"function\"!=typeof r?w(n):r).state={reviews:[],imagesGallery:[],averageRatings:0,fit:{large:0,trueToSize:0,small:0},currentReviews:[],pageLimit:5,currentPage:1,totalPages:1},a.fetchData=a.fetchData.bind(w(a)),a.fetchDataByID=a.fetchDataByID.bind(w(a)),a.sortByNewest=a.sortByNewest.bind(w(a)),a.sortByRating=a.sortByRating.bind(w(a)),a.onPageChanged=a.onPageChanged.bind(w(a)),a}var a,n,i;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),a=t,(n=[{key:\"componentDidMount\",value:function(){this.fetchDataByID(\"HRLA078\")}},{key:\"fetchData\",value:function(){var e=this;g.a.get(\"/api/shop/designers\").then(function(t){var a=0,n=0,r=0,i=0;t.data.forEach(function(e){a+=e.comment.rating,\"SMALL\"===e.purchaseInfo.overAllFit?n++:\"TRUE TO SIZE\"===e.purchaseInfo.overAllFit?r++:i++}),e.setState({reviews:t.data.reviews,averageRatings:a/t.data.reviews.length,fit:{large:i,trueToSize:r,small:n},currentReviews:t.data.reviews})}).catch(function(e){return console.error(e)})}},{key:\"fetchDataByID\",value:function(e){var t=this;g.a.get(\"/api/shop/designers/\".concat(e)).then(function(e){var a=0,n=0,r=0,i=0,o=[];e.data[0].reviews.forEach(function(e){a+=e.comment.rating,\"SMALL\"===e.purchaseInfo.overAllFit?n++:\"TRUE TO SIZE\"===e.purchaseInfo.overAllFit?r++:i++,e.image.length>0&&(o=o.concat(e.image))});var s=Math.ceil(e.data[0].reviews.length/t.state.pageLimit);t.setState({reviews:e.data[0].reviews,imagesGallery:o,averageRatings:a/e.data[0].reviews.length,fit:{large:i,trueToSize:r,small:n},currentReviews:e.data[0].reviews.slice(0,t.state.pageLimit),totalPages:s})}).catch(function(e){return console.error(e)})}},{key:\"filterByWomenLikeMe\",value:function(e,t,a,n){this.sortByNewest()}},{key:\"sortByFeatured\",value:function(){}},{key:\"sortByRating\",value:function(){var e=this.state.reviews;e.sort(function(e,t){return t.comment.rating-e.comment.rating}),this.setState({reviews:e})}},{key:\"sortByNewest\",value:function(){var e=this.state.reviews;e.sort(function(e,t){return t.date>e.date?1:t.date<e.date?-1:0}),this.setState({reviews:e})}},{key:\"onPageChanged\",value:function(e){var t=this.state.reviews,a=e.currentPage,n=e.totalPages,r=e.pageLimit,i=(a-1)*r,o=t.slice(i,i+r);this.setState({currentPage:a,currentReviews:o,totalPages:n})}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:u.a.reviewsContainer},r.a.createElement(o.a,{key:this.state.imagesGallery.length,averageRatings:this.state.averageRatings,fit:this.state.fit,numberOfReviews:this.state.reviews.length,imagesGallery:this.state.imagesGallery}),r.a.createElement(\"div\",{className:u.a.filterReviewsWrapper},r.a.createElement(s.default,{sortByRating:this.sortByRating,sortByNewest:this.sortByNewest}),r.a.createElement(c.default,{reviews:this.state.currentReviews}),r.a.createElement(h.default,{totalPages:this.state.totalPages,currentReviews:this.state.currentReviews.length,currentPage:this.state.currentPage,pageLimit:this.state.pageLimit,onPageChanged:this.onPageChanged})))}}])&&y(a.prototype,n),i&&y(a,i),t}();t.default=m}}]);","extractedComments":[]}